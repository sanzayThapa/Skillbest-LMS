{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma = globalForPrisma.prisma || new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth from \"next-auth\"\nimport GoogleProvider from \"next-auth/providers/google\"\nimport CredentialsProvider from \"next-auth/providers/credentials\";\nimport bcrypt from \"bcryptjs\";\nimport { PrismaAdapter } from \"@next-auth/prisma-adapter\"\nimport { prisma } from \"@/lib/prisma\"\n\nconst handler = NextAuth({\n    adapter: PrismaAdapter(prisma),\n    providers: [\n        CredentialsProvider({\n            name: \"Credentials\",\n            credentials: {\n                email: { label: \"Email\", type: \"text\" },\n                password: { label: \"Password\", type: \"password\" }\n            },\n            async authorize(credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error('Invalid credentials');\n                }\n\n                const user = await prisma.user.findUnique({\n                    where: { email: credentials.email }\n                });\n\n                if (!user || !user.password) {\n                    throw new Error('Invalid credentials');\n                }\n\n                const isValid = await bcrypt.compare(credentials.password, user.password);\n\n                if (!isValid) {\n                    throw new Error('Invalid credentials');\n                }\n\n                return user;\n            }\n        }),\n        // GoogleProvider({\n        //   clientId: process.env.GOOGLE_CLIENT_ID,\n        //   clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n        // }),\n        // Add other providers here\n    ],\n    session: {\n        strategy: \"jwt\",\n    },\n    callbacks: {\n        async jwt({ token, user }: any) {\n            console.log('NextAuth JWT Callback - User:', user);\n            if (user) {\n                token.role = user.role;\n            }\n            console.log('NextAuth JWT Callback - Token:', token);\n            return token;\n        },\n        async session({ session, token }: any) {\n            console.log('NextAuth Session Callback - Token:', token);\n            if (session.user) {\n                (session.user as any).role = token.role;\n            }\n            console.log('NextAuth Session Callback - Session:', session);\n            return session;\n        }\n    }\n})\n\nexport { handler as GET, handler as POST }\n"],"names":[],"mappings":";;;;;;AAAA;AAEA;AACA;AACA;AACA;;;;;;AAEA,MAAM,UAAU,IAAA,kJAAQ,EAAC;IACrB,SAAS,IAAA,uLAAa,EAAC,gIAAM;IAC7B,WAAW;QACP,IAAA,qKAAmB,EAAC;YAChB,MAAM;YACN,aAAa;gBACT,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YACpD;YACA,MAAM,WAAU,WAAW;gBACvB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBAC/C,MAAM,IAAI,MAAM;gBACpB;gBAEA,MAAM,OAAO,MAAM,gIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACtC,OAAO;wBAAE,OAAO,YAAY,KAAK;oBAAC;gBACtC;gBAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;oBACzB,MAAM,IAAI,MAAM;gBACpB;gBAEA,MAAM,UAAU,MAAM,8IAAM,CAAC,OAAO,CAAC,YAAY,QAAQ,EAAE,KAAK,QAAQ;gBAExE,IAAI,CAAC,SAAS;oBACV,MAAM,IAAI,MAAM;gBACpB;gBAEA,OAAO;YACX;QACJ;KAMH;IACD,SAAS;QACL,UAAU;IACd;IACA,WAAW;QACP,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAO;YAC1B,QAAQ,GAAG,CAAC,iCAAiC;YAC7C,IAAI,MAAM;gBACN,MAAM,IAAI,GAAG,KAAK,IAAI;YAC1B;YACA,QAAQ,GAAG,CAAC,kCAAkC;YAC9C,OAAO;QACX;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAO;YACjC,QAAQ,GAAG,CAAC,sCAAsC;YAClD,IAAI,QAAQ,IAAI,EAAE;gBACb,QAAQ,IAAI,CAAS,IAAI,GAAG,MAAM,IAAI;YAC3C;YACA,QAAQ,GAAG,CAAC,wCAAwC;YACpD,OAAO;QACX;IACJ;AACJ","debugId":null}}]
}