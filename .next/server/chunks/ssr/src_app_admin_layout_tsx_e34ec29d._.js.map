{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession } from 'next-auth/react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport {\n    FiHome, FiUsers, FiBriefcase, FiBook, FiAward,\n    FiCheckCircle, FiBarChart2, FiMail, FiSettings, FiShield,\n    FiFileText, FiDollarSign, FiMenu, FiX\n} from 'react-icons/fi';\nimport { HiOfficeBuilding } from 'react-icons/hi';\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n    const { data: session, status } = useSession();\n    const router = useRouter();\n    const pathname = usePathname();\n    const [sidebarOpen, setSidebarOpen] = useState(true);\n\n    useEffect(() => {\n        console.log('AdminLayout Session:', session);\n        console.log('AdminLayout Status:', status);\n        if (status === 'unauthenticated') {\n            router.push('/api/auth/signin');\n        } else if (status === 'authenticated' && (session?.user as any)?.role !== 'admin') {\n            console.log('Redirecting to / because user is not admin. Role:', (session?.user as any)?.role);\n            router.push('/');\n        }\n    }, [status, session, router]);\n\n    if (status === 'loading') {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <div className=\"text-lg\">Loading...</div>\n            </div>\n        );\n    }\n\n    if (!session || (session.user as any)?.role !== 'admin') {\n        return null;\n    }\n\n    const navigation = [\n        {\n            group: 'Overview',\n            items: [\n                { name: 'Dashboard', href: '/admin', icon: FiHome }\n            ]\n        },\n        {\n            group: 'Clients',\n            items: [\n                { name: 'Companies', href: '/admin/companies', icon: HiOfficeBuilding },\n                { name: 'Organization', href: '/admin/organization', icon: FiUsers },\n                { name: 'Employees', href: '/admin/employees', icon: FiUsers }\n            ]\n        },\n        {\n            group: 'Learning',\n            items: [\n                { name: 'Programs', href: '/admin/programs', icon: FiBriefcase },\n                { name: 'Courses', href: '/admin/courses', icon: FiBook },\n                { name: 'Assignments', href: '/admin/assignments', icon: FiCheckCircle },\n                { name: 'Assessments', href: '/admin/assessments', icon: FiAward }\n            ]\n        },\n        {\n            group: 'Monitoring',\n            items: [\n                { name: 'Compliance', href: '/admin/compliance', icon: FiShield },\n                { name: 'Reports', href: '/admin/reports', icon: FiBarChart2 }\n            ]\n        },\n        {\n            group: 'Operations',\n            items: [\n                { name: 'Instructors', href: '/admin/instructors', icon: FiUsers },\n                { name: 'Communication', href: '/admin/communication', icon: FiMail }\n            ]\n        },\n        {\n            group: 'Business',\n            items: [\n                { name: 'Billing', href: '/admin/billing', icon: FiDollarSign },\n                { name: 'Contracts', href: '/admin/contracts', icon: FiFileText }\n            ]\n        },\n        {\n            group: 'System',\n            items: [\n                { name: 'Settings', href: '/admin/settings', icon: FiSettings }\n            ]\n        }\n    ];\n\n    return (\n        <div className=\"flex h-screen bg-gray-100\">\n            {/* Sidebar */}\n            <div className={`${sidebarOpen ? 'w-64' : 'w-20'} bg-gray-900 text-white transition-all duration-300 flex flex-col`}>\n                {/* Header */}\n                <div className=\"p-4 flex items-center justify-between border-b border-gray-800\">\n                    {sidebarOpen && <h1 className=\"text-xl font-bold\">Admin Portal</h1>}\n                    <button\n                        onClick={() => setSidebarOpen(!sidebarOpen)}\n                        className=\"p-2 rounded-lg hover:bg-gray-800\"\n                    >\n                        {sidebarOpen ? <FiX size={20} /> : <FiMenu size={20} />}\n                    </button>\n                </div>\n\n                {/* Navigation */}\n                <nav className=\"flex-1 overflow-y-auto py-4\">\n                    {navigation.map((section) => (\n                        <div key={section.group} className=\"mb-6\">\n                            {sidebarOpen && (\n                                <h3 className=\"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\">\n                                    {section.group}\n                                </h3>\n                            )}\n                            <div className=\"space-y-1\">\n                                {section.items.map((item) => {\n                                    const Icon = item.icon;\n                                    const isActive = pathname === item.href;\n                                    return (\n                                        <Link\n                                            key={item.name}\n                                            href={item.href}\n                                            className={`flex items-center px-4 py-2 text-sm transition-colors ${isActive\n                                                ? 'bg-gray-800 text-white'\n                                                : 'text-gray-300 hover:bg-gray-800 hover:text-white'\n                                                }`}\n                                        >\n                                            <Icon size={20} className=\"flex-shrink-0\" />\n                                            {sidebarOpen && <span className=\"ml-3\">{item.name}</span>}\n                                        </Link>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    ))}\n                </nav>\n\n                {/* User Profile */}\n                <div className=\"p-4 border-t border-gray-800\">\n                    {sidebarOpen ? (\n                        <div className=\"flex items-center\">\n                            <div className=\"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center\">\n                                {session.user?.name?.[0] || 'A'}\n                            </div>\n                            <div className=\"ml-3\">\n                                <p className=\"text-sm font-medium\">{session.user?.name}</p>\n                                <p className=\"text-xs text-gray-400\">Admin</p>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mx-auto\">\n                            {session.user?.name?.[0] || 'A'}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\n                {/* Top Bar */}\n                <header className=\"bg-white shadow-sm z-10\">\n                    <div className=\"px-6 py-4\">\n                        <h2 className=\"text-2xl font-semibold text-gray-800\">\n                            {navigation.flatMap(s => s.items).find(i => i.href === pathname)?.name || 'Dashboard'}\n                        </h2>\n                    </div>\n                </header>\n\n                {/* Page Content */}\n                <main className=\"flex-1 overflow-y-auto p-6\">\n                    {children}\n                </main>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}