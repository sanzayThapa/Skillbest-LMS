{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { getSession } from 'next-auth/react';\n\n// Create an Axios instance\nconst api = axios.create({\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL || '/api/backend',\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\n// Add a request interceptor to add the user's email\napi.interceptors.request.use(\n    async (config) => {\n        const session = await getSession();\n        if (session?.user?.email) {\n            config.headers['x-user-email'] = session.user.email;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// Add a response interceptor\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;;AAKa;AALb;AACA;;;AAEA,2BAA2B;AAC3B,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACrB,SAAS,oDAAuC;IAChD,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,oDAAoD;AACpD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,OAAO;QAEC;IADJ,MAAM,UAAU,MAAM,IAAA,+JAAU;IAChC,IAAI,oBAAA,+BAAA,gBAAA,QAAS,IAAI,cAAb,oCAAA,cAAe,KAAK,EAAE;QACtB,OAAO,OAAO,CAAC,eAAe,GAAG,QAAQ,IAAI,CAAC,KAAK;IACvD;IACA,OAAO;AACX,GACA,CAAC;IACG,OAAO,QAAQ,MAAM,CAAC;AAC1B;AAGJ,6BAA6B;AAC7B,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,CAAC;IACG,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/core/common/dataTable/index.tsx"],"sourcesContent":["// index.tsx\n\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Table } from \"antd\";\nimport type { DatatableProps } from \"../../common/data/interface/index\";\n\n\nconst Datatable: React.FC<DatatableProps> = ({ columns, dataSource , Search }) => {\n  const [searchText, setSearchText] = useState<string>(\"\");\n  const [showSearch, setShowSearch] = useState<any>(true);\n  const [filteredDataSource, setFilteredDataSource] = useState(dataSource);\n\n\n  const handleSearch = (value: string) => {\n    setSearchText(value);\n    const filteredData = dataSource.filter((record) =>\n      Object.values(record).some((field) =>\n        String(field).toLowerCase().includes(value.toLowerCase())\n      )\n    );\n    setFilteredDataSource(filteredData);\n  };\n\n\n  useEffect(() => {\n    return setShowSearch(Search);\n  }, [Search])\n  \n  \n  return (\n    <div className=\"custom-table antd-custom-table\" >\n      \n\n     {!showSearch ?\n      <Table\n      className=\"table datanew dataTable no-footer\"\n     \n      columns={columns}\n      rowHoverable={false}\n      dataSource={filteredDataSource}\n      pagination={{\n        locale: { items_per_page: \"\" },\n        nextIcon: <span><i className=\"fas fa-angle-right\" /></span>,\n        prevIcon: <span><i className=\"fas fa-angle-left\" /></span>,\n        showTotal: (total, range) => `Page ${range[0]} of ${total}`,\n      }}\n    /> : \n    <>\n    <div className=\"table-search\">\n  <div className=\"input-icon mb-3\">\n    <span className=\"input-icon-addon\">\n      <i className=\"isax isax-search-normal-14\" />\n    </span>\n    <input type=\"search\" className=\"form-control form-control-md mb-3 w-auto float-end\" value={searchText} placeholder=\"Search\" onChange={(e) => handleSearch(e.target.value)} aria-controls=\"DataTables_Table_0\"></input>\n  </div>\n  </div>\n  <Table\n        className=\"table datanew dataTable no-footer\"\n        columns={columns}\n        rowHoverable={false}\n        dataSource={filteredDataSource}\n        pagination={{\n          locale: { items_per_page: \"\" },\n          nextIcon: <span><i className=\"fas fa-angle-right\" /></span>,\n          prevIcon: <span><i className=\"fas fa-angle-left\" /></span>,\n          showTotal: (total, range) => `Page ${range[0]} of ${total}`,\n        }}\n      />\n    </>\n\n      }\n      \n    </div>\n  );\n};\n\nexport default Datatable;\n"],"names":[],"mappings":"AAAA,YAAY;;;;;;AAEZ;AACA;;;AAFA;;;AAMA,MAAM,YAAsC;QAAC,EAAE,OAAO,EAAE,UAAU,EAAG,MAAM,EAAE;;IAC3E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAS;IACrD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAM;IAClD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAG7D,MAAM,eAAe,CAAC;QACpB,cAAc;QACd,MAAM,eAAe,WAAW,MAAM,CAAC,CAAC,SACtC,OAAO,MAAM,CAAC,QAAQ,IAAI,CAAC,CAAC,QAC1B,OAAO,OAAO,WAAW,GAAG,QAAQ,CAAC,MAAM,WAAW;QAG1D,sBAAsB;IACxB;IAGA,IAAA,0KAAS;+BAAC;YACR,OAAO,cAAc;QACvB;8BAAG;QAAC;KAAO;IAGX,qBACE,6LAAC;QAAI,WAAU;kBAGb,CAAC,2BACD,6LAAC,4LAAK;YACN,WAAU;YAEV,SAAS;YACT,cAAc;YACd,YAAY;YACZ,YAAY;gBACV,QAAQ;oBAAE,gBAAgB;gBAAG;gBAC7B,wBAAU,6LAAC;8BAAK,cAAA,6LAAC;wBAAE,WAAU;;;;;;;;;;;gBAC7B,wBAAU,6LAAC;8BAAK,cAAA,6LAAC;wBAAE,WAAU;;;;;;;;;;;gBAC7B,WAAW,CAAC,OAAO,QAAU,AAAC,QAAsB,OAAf,KAAK,CAAC,EAAE,EAAC,QAAY,OAAN;YACtD;;;;;qEAEF;;8BACA,6LAAC;oBAAI,WAAU;8BACjB,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CACd,cAAA,6LAAC;oCAAE,WAAU;;;;;;;;;;;0CAEf,6LAAC;gCAAM,MAAK;gCAAS,WAAU;gCAAqD,OAAO;gCAAY,aAAY;gCAAS,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAG,iBAAc;;;;;;;;;;;;;;;;;8BAG3L,6LAAC,4LAAK;oBACA,WAAU;oBACV,SAAS;oBACT,cAAc;oBACd,YAAY;oBACZ,YAAY;wBACV,QAAQ;4BAAE,gBAAgB;wBAAG;wBAC7B,wBAAU,6LAAC;sCAAK,cAAA,6LAAC;gCAAE,WAAU;;;;;;;;;;;wBAC7B,wBAAU,6LAAC;sCAAK,cAAA,6LAAC;gCAAE,WAAU;;;;;;;;;;;wBAC7B,WAAW,CAAC,OAAO,QAAU,AAAC,QAAsB,OAAf,KAAK,CAAC,EAAE,EAAC,QAAY,OAAN;oBACtD;;;;;;;;;;;;;AAQR;GAnEM;KAAA;uCAqES","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/app/admin/companies/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport api from '@/lib/api';\nimport Link from 'next/link';\nimport Table from \"@/core/common/dataTable/index\";\n\nexport default function CompaniesPage() {\n    const [companies, setCompanies] = useState<any[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [page, setPage] = useState(1);\n\n    useEffect(() => {\n        fetchCompanies();\n    }, [page]);\n\n    const fetchCompanies = async () => {\n        try {\n            setLoading(true);\n            const res = await api.get(`/companies?page=${page}&limit=50`);\n            setCompanies(res.data.companies);\n        } catch (error) {\n            console.error('Failed to fetch companies', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const columns = [\n        {\n            title: \"Company\",\n            dataIndex: \"name\",\n            render: (text: string, record: any) => (\n                <div className=\"d-flex align-items-center\">\n                    <div className=\"avatar avatar-md me-2 flex-shrink-0 bg-gray-100 rounded\">\n                        {record.logo ? (\n                            <img src={record.logo} alt={text} className=\"img-fluid rounded\" />\n                        ) : (\n                            <span className=\"fw-bold text-primary\">{text[0]}</span>\n                        )}\n                    </div>\n                    <div>\n                        <h6 className=\"fw-medium mb-0\">\n                            <Link href={`/admin/companies/${record.id}`}>{text}</Link>\n                        </h6>\n                        <span className=\"fs-12 text-muted\">{record.slug}</span>\n                    </div>\n                </div>\n            ),\n            sorter: (a: any, b: any) => a.name.localeCompare(b.name),\n        },\n        {\n            title: \"Industry\",\n            dataIndex: \"industry\",\n            render: (text: string) => text || 'N/A',\n            sorter: (a: any, b: any) => (a.industry || '').localeCompare(b.industry || ''),\n        },\n        {\n            title: \"Employees\",\n            dataIndex: \"_count\",\n            render: (count: any) => count.employees,\n            sorter: (a: any, b: any) => a._count.employees - b._count.employees,\n        },\n        {\n            title: \"Programs\",\n            dataIndex: \"_count\",\n            render: (count: any) => count.trainingPrograms,\n            sorter: (a: any, b: any) => a._count.trainingPrograms - b._count.trainingPrograms,\n        },\n        {\n            title: \"Status\",\n            dataIndex: \"status\",\n            render: (text: string) => (\n                <span className={`badge badge-sm ${text === 'ACTIVE' ? 'bg-success' :\n                        text === 'PAUSED' ? 'bg-warning' :\n                            text === 'TRIAL' ? 'bg-info' : 'bg-gray-500'\n                    } d-inline-flex align-items-center`}>\n                    <i className=\"fa-solid fa-circle fs-5 me-1\" />\n                    {text}\n                </span>\n            ),\n            sorter: (a: any, b: any) => a.status.localeCompare(b.status),\n        },\n        {\n            title: \"Action\",\n            dataIndex: \"id\",\n            render: (id: string) => (\n                <div className=\"d-flex align-items-center\">\n                    <Link href={`/admin/companies/${id}`} className=\"d-inline-flex fs-14 me-1 action-icon\">\n                        <i className=\"isax isax-eye\" />\n                    </Link>\n                    <Link href={`/admin/companies/${id}/edit`} className=\"d-inline-flex fs-14 me-1 action-icon\">\n                        <i className=\"isax isax-edit-2\" />\n                    </Link>\n                    <button className=\"d-inline-flex fs-14 action-icon border-0 bg-transparent text-danger\">\n                        <i className=\"isax isax-trash\" />\n                    </button>\n                </div>\n            ),\n        },\n    ];\n\n    return (\n        <>\n            <div className=\"page-title d-flex align-items-center justify-content-between mb-4\">\n                <h5 className=\"fw-bold mb-0\">Companies Management</h5>\n                <Link href=\"/admin/companies/new\" className=\"btn btn-primary\">\n                    <i className=\"ti ti-plus me-2\"></i>Add New Company\n                </Link>\n            </div>\n\n            <div className=\"card\">\n                <div className=\"card-body p-0\">\n                    <Table\n                        dataSource={companies}\n                        columns={columns}\n                        Search={true}\n                    />\n                </div>\n            </div>\n        </>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}