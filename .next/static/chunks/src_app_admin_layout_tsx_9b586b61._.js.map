{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/sanjay/Documents/Working/Coding/Skillbest%20LMS/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession } from 'next-auth/react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport {\n    FiHome, FiUsers, FiBriefcase, FiBook, FiAward,\n    FiCheckCircle, FiBarChart2, FiMail, FiSettings, FiShield,\n    FiFileText, FiDollarSign, FiMenu, FiX\n} from 'react-icons/fi';\nimport { HiOfficeBuilding } from 'react-icons/hi';\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n    const { data: session, status } = useSession();\n    const router = useRouter();\n    const pathname = usePathname();\n    const [sidebarOpen, setSidebarOpen] = useState(true);\n\n    useEffect(() => {\n        console.log('AdminLayout Session:', session);\n        console.log('AdminLayout Status:', status);\n        if (status === 'unauthenticated') {\n            router.push('/api/auth/signin');\n        } else if (status === 'authenticated' && (session?.user as any)?.role !== 'admin') {\n            console.log('Redirecting to / because user is not admin. Role:', (session?.user as any)?.role);\n            router.push('/');\n        }\n    }, [status, session, router]);\n\n    if (status === 'loading') {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <div className=\"text-lg\">Loading...</div>\n            </div>\n        );\n    }\n\n    if (!session || (session.user as any)?.role !== 'admin') {\n        return null;\n    }\n\n    const navigation = [\n        {\n            group: 'Overview',\n            items: [\n                { name: 'Dashboard', href: '/admin', icon: FiHome }\n            ]\n        },\n        {\n            group: 'Clients',\n            items: [\n                { name: 'Companies', href: '/admin/companies', icon: HiOfficeBuilding },\n                { name: 'Organization', href: '/admin/organization', icon: FiUsers },\n                { name: 'Employees', href: '/admin/employees', icon: FiUsers }\n            ]\n        },\n        {\n            group: 'Learning',\n            items: [\n                { name: 'Programs', href: '/admin/programs', icon: FiBriefcase },\n                { name: 'Courses', href: '/admin/courses', icon: FiBook },\n                { name: 'Assignments', href: '/admin/assignments', icon: FiCheckCircle },\n                { name: 'Assessments', href: '/admin/assessments', icon: FiAward }\n            ]\n        },\n        {\n            group: 'Monitoring',\n            items: [\n                { name: 'Compliance', href: '/admin/compliance', icon: FiShield },\n                { name: 'Reports', href: '/admin/reports', icon: FiBarChart2 }\n            ]\n        },\n        {\n            group: 'Operations',\n            items: [\n                { name: 'Instructors', href: '/admin/instructors', icon: FiUsers },\n                { name: 'Communication', href: '/admin/communication', icon: FiMail }\n            ]\n        },\n        {\n            group: 'Business',\n            items: [\n                { name: 'Billing', href: '/admin/billing', icon: FiDollarSign },\n                { name: 'Contracts', href: '/admin/contracts', icon: FiFileText }\n            ]\n        },\n        {\n            group: 'System',\n            items: [\n                { name: 'Settings', href: '/admin/settings', icon: FiSettings }\n            ]\n        }\n    ];\n\n    return (\n        <div className=\"flex h-screen bg-gray-100\">\n            {/* Sidebar */}\n            <div className={`${sidebarOpen ? 'w-64' : 'w-20'} bg-gray-900 text-white transition-all duration-300 flex flex-col`}>\n                {/* Header */}\n                <div className=\"p-4 flex items-center justify-between border-b border-gray-800\">\n                    {sidebarOpen && <h1 className=\"text-xl font-bold\">Admin Portal</h1>}\n                    <button\n                        onClick={() => setSidebarOpen(!sidebarOpen)}\n                        className=\"p-2 rounded-lg hover:bg-gray-800\"\n                    >\n                        {sidebarOpen ? <FiX size={20} /> : <FiMenu size={20} />}\n                    </button>\n                </div>\n\n                {/* Navigation */}\n                <nav className=\"flex-1 overflow-y-auto py-4\">\n                    {navigation.map((section) => (\n                        <div key={section.group} className=\"mb-6\">\n                            {sidebarOpen && (\n                                <h3 className=\"px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2\">\n                                    {section.group}\n                                </h3>\n                            )}\n                            <div className=\"space-y-1\">\n                                {section.items.map((item) => {\n                                    const Icon = item.icon;\n                                    const isActive = pathname === item.href;\n                                    return (\n                                        <Link\n                                            key={item.name}\n                                            href={item.href}\n                                            className={`flex items-center px-4 py-2 text-sm transition-colors ${isActive\n                                                ? 'bg-gray-800 text-white'\n                                                : 'text-gray-300 hover:bg-gray-800 hover:text-white'\n                                                }`}\n                                        >\n                                            <Icon size={20} className=\"flex-shrink-0\" />\n                                            {sidebarOpen && <span className=\"ml-3\">{item.name}</span>}\n                                        </Link>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    ))}\n                </nav>\n\n                {/* User Profile */}\n                <div className=\"p-4 border-t border-gray-800\">\n                    {sidebarOpen ? (\n                        <div className=\"flex items-center\">\n                            <div className=\"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center\">\n                                {session.user?.name?.[0] || 'A'}\n                            </div>\n                            <div className=\"ml-3\">\n                                <p className=\"text-sm font-medium\">{session.user?.name}</p>\n                                <p className=\"text-xs text-gray-400\">Admin</p>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center mx-auto\">\n                            {session.user?.name?.[0] || 'A'}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\n                {/* Top Bar */}\n                <header className=\"bg-white shadow-sm z-10\">\n                    <div className=\"px-6 py-4\">\n                        <h2 className=\"text-2xl font-semibold text-gray-800\">\n                            {navigation.flatMap(s => s.items).find(i => i.href === pathname)?.name || 'Dashboard'}\n                        </h2>\n                    </div>\n                </header>\n\n                {/* Page Content */}\n                <main className=\"flex-1 overflow-y-auto p-6\">\n                    {children}\n                </main>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}